public int multiply(int x,int y){
  int carry=y;
  int result=0;
  while (carry != 0) {
    int adder=x;
    int counter=0;
    int comparison=add(carry,1);
    while ((carry ^ comparison) == 1) {
      counter=add(counter,1);
      adder<<=1;
      carry>>>=1;
      comparison=add(carry,1);
    }
    carry>>=1;
    carry<<=1;
    carry<<=counter;
    result=add(result,adder);
  }
  return result;
}

