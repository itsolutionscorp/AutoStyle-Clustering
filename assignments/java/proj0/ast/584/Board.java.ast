( canSelect ( cond ( == ( pieceAt ))( cond ( != )( cond ( && ( == )( validMove ))( cond ( && ( == ( hasCaptured ))( validCapture )))))( cond ( == )( cond ( == ( side ( pieceAt )))))))
