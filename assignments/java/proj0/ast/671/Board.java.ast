( canSelect ( cond ( isValidRange )( pieceAt )( cond ( == )( cond ( != )( cond ( && ( == )( validMove )))( cond ( && ( hasCaptured )( validMove ))))( cond ( && ( == ( isFire ))( == ))))))
