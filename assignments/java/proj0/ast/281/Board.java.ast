( canSelect ( cond )( cond ( != ( pieceAt ))( cond ( == ( side ( pieceAt )))( cond ( == )( cond ( == )( switchHighlightDraw ))))( cond ( && ( && ( == )( == ))( validMove )))( cond ( && ( && ( && ( == )( == ))( hasCaptured ( pieceAt )))( validMove )))))
