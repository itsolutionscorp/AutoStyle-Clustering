( canSelect ( pieceAt )( cond ( != )( cond ( && ( == ( pieceAt ))( canEndTurn )))( cond ( canEndTurn ))( cond ( != ( isFire )))( cond ( && ( != )( hasCaptured )))( cond ( || ( == )( == ( hasCaptured ))))( cond ( && ( != )( validMove )))))
