s(:block, s(:defn, :combine_anagrams, s(:args, :words), s(:if, s(:call, s(:lvar, :words), :!=, s(:nil)), s(:if, s(:call, s(:call, s(:lvar, :words), :size), :!=, s(:lit, 0)), s(:block, s(:if, s(:call, s(:call, s(:lvar, :words), :size), :==, s(:lit, 1)), s(:return, s(:lvar, :words)), s(:block, s(:lasgn, :palabras, s(:call, s(:const, :Array), :new)), s(:lasgn, :pala, s(:call, s(:const, :Array), :new)), s(:lasgn, :salida, s(:call, s(:const, :Array), :new)), s(:lasgn, :resultado, s(:call, s(:const, :Array), :new)), s(:lasgn, :palabras, s(:call, s(:lvar, :words), :clone)), s(:iter, s(:call, s(:lvar, :palabras), :each_with_index), s(:args, :pal, :i), s(:block, s(:lasgn, :pal, s(:call, s(:lvar, :pal), :downcase)), s(:lasgn, :pala, s(:call, s(:call, s(:lvar, :pal), :to_s), :split, s(:lit, //))), s(:lasgn, :pala, s(:call, s(:lvar, :pala), :sort)), s(:attrasgn, s(:lvar, :salida), :[]=, s(:lvar, :i), s(:call, s(:lvar, :pala), :to_s)))), s(:for, s(:dot3, s(:lit, 0), s(:call, s(:lvar, :salida), :size)), s(:lasgn, :i), s(:if, s(:call, s(:call, s(:lvar, :salida), :[], s(:lvar, :i)), :!=, s(:lit, 0)), s(:block, s(:attrasgn, s(:lvar, :resultado), :[]=, s(:lvar, :i), s(:call, s(:const, :Array), :new)), s(:attrasgn, s(:call, s(:lvar, :resultado), :[], s(:lvar, :i)), :[]=, s(:lit, 0), s(:call, s(:lvar, :words), :[], s(:lvar, :i))), s(:lasgn, :p, s(:lit, 1)), s(:for, s(:dot3, s(:lit, 0), s(:call, s(:lvar, :salida), :size)), s(:lasgn, :j), s(:if, s(:call, s(:lvar, :j), :>=, s(:lvar, :i)), s(:if, s(:call, s(:call, s(:lvar, :salida), :[], s(:lvar, :i)), :==, s(:call, s(:lvar, :salida), :[], s(:call, s(:lvar, :j), :+, s(:lit, 1)))), s(:block, s(:attrasgn, s(:call, s(:lvar, :resultado), :[], s(:lvar, :i)), :[]=, s(:lvar, :p), s(:call, s(:lvar, :words), :[], s(:call, s(:lvar, :j), :+, s(:lit, 1)))), s(:attrasgn, s(:lvar, :salida), :[]=, s(:call, s(:lvar, :j), :+, s(:lit, 1)), s(:lit, 0)), s(:lasgn, :p, s(:call, s(:lvar, :p), :+, s(:lit, 1)))), nil), nil))), nil)))), s(:iter, s(:call, s(:lvar, :resultado), :each_with_index), s(:args, :word, :i), s(:if, s(:call, s(:lvar, :word), :==, s(:nil)), s(:call, s(:lvar, :resultado), :delete_at, s(:lvar, :i)), nil)), s(:iter, s(:call, s(:lvar, :resultado), :each_with_index), s(:args, :word, :i), s(:if, s(:call, s(:lvar, :word), :==, s(:nil)), s(:call, s(:lvar, :resultado), :delete_at, s(:lvar, :i)), nil)), s(:iter, s(:call, s(:lvar, :resultado), :each_with_index), s(:args, :word, :i), s(:if, s(:call, s(:lvar, :word), :==, s(:nil)), s(:call, s(:lvar, :resultado), :delete_at, s(:lvar, :i)), nil)), s(:iter, s(:call, s(:lvar, :resultado), :each_with_index), s(:args, :word, :i), s(:if, s(:call, s(:lvar, :word), :==, s(:nil)), s(:call, s(:lvar, :resultado), :delete_at, s(:lvar, :i)), nil)), s(:return, s(:lvar, :resultado))), nil), s(:return, s(:lvar, :words))), s(:return, s(:lvar, :words))), s(:lasgn, :words, s(:array, s(:str, "a"), s(:str, "a"), s(:str, "a"), s(:str, "A"), s(:str, "b"), s(:str, "b"), s(:str, "c"), s(:str, "D"), s(:str, "d"))), s(:lasgn, :x, s(:call, nil, :combine_anagrams, s(:lvar, :words))), s(:call, nil, :puts, s(:call, s(:lvar, :x), :inspect)))