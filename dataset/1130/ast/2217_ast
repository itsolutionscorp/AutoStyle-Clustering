s(:block, s(:class, :String, nil, s(:defn, :anagram?, s(:args, :word), s(:call, s(:call, s(:call, s(:call, s(:call, nil, :downcase), :chars), :sort), :to_s), :==, s(:call, s(:call, s(:call, s(:call, s(:lvar, :word), :downcase), :chars), :sort), :to_s)))), s(:defn, :combine_anagrams, s(:args, :words), s(:if, s(:call, s(:call, s(:lvar, :words), :length), :==, s(:lit, 1)), s(:return, s(:array, s(:lvar, :words))), nil), s(:if, s(:call, s(:call, s(:lvar, :words), :length), :<, s(:lit, 1)), s(:return, s(:lvar, :words)), nil), s(:lasgn, :partitions, s(:iter, s(:call, s(:lvar, :words), :partition), s(:args, :word), s(:call, s(:lvar, :word), :anagram?, s(:call, s(:lvar, :words), :[], s(:lit, 0))))), s(:return, s(:call, s(:array, s(:call, s(:lvar, :partitions), :[], s(:lit, 0))), :+, s(:call, nil, :combine_anagrams, s(:call, s(:lvar, :partitions), :[], s(:lit, 1)))))))