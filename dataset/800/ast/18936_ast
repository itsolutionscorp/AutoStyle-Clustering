s(:block, s(:class, :AnagramStats, nil, s(:call, nil, :attr_accessor, s(:lit, :words), s(:lit, :char_counts), s(:lit, :combined)), s(:defn, :initialize, s(:args, :words), s(:iasgn, :@words, s(:lvar, :words))), s(:defn, :combine, s(:args), s(:attrasgn, s(:self), :char_counts=, s(:call, nil, :get_char_counts)), s(:attrasgn, s(:self), :combined=, s(:iter, s(:call, s(:call, nil, :words), :inject, s(:call, s(:const, :Array), :new)), s(:args, :memo, :k), s(:block, s(:lasgn, :v, s(:call, s(:call, nil, :char_counts), :[], s(:lvar, :k))), s(:if, s(:call, s(:lvar, :memo), :empty?), s(:call, s(:lvar, :memo), :<<, s(:array, s(:lvar, :k))), s(:block, s(:lasgn, :added_to, s(:iter, s(:call, s(:lvar, :memo), :inject, s(:nil)), s(:args, :found, :arr), s(:if, s(:call, nil, :compare_words, s(:lvar, :v), s(:call, s(:call, nil, :char_counts), :[], s(:call, s(:lvar, :arr), :first))), s(:block, s(:call, s(:lvar, :arr), :<<, s(:lvar, :k)), s(:lasgn, :found, s(:lvar, :k)), s(:break, s(:lvar, :found))), nil))), s(:if, s(:lvar, :added_to), nil, s(:call, s(:lvar, :memo), :<<, s(:array, s(:lvar, :k)))))), s(:lvar, :memo))))), s(:defn, :get_char_counts, s(:args), s(:iter, s(:call, s(:call, nil, :words), :inject, s(:call, s(:const, :Hash), :new)), s(:args, :memo, :w), s(:block, s(:attrasgn, s(:lvar, :memo), :[]=, s(:lvar, :w), s(:call, nil, :char_count, s(:lvar, :w))), s(:lvar, :memo)))), s(:defn, :compare_words, s(:args, :wc1, :wc2), s(:if, s(:call, s(:call, s(:call, s(:lvar, :wc1), :keys), :length), :==, s(:call, s(:call, s(:lvar, :wc2), :keys), :length)), nil, s(:return, s(:false))), s(:iter, s(:call, s(:lvar, :wc1), :each), s(:args, :k, :v), s(:if, s(:call, s(:lvar, :v), :==, s(:call, s(:lvar, :wc2), :[], s(:lvar, :k))), nil, s(:return, s(:false)))), s(:return, s(:true))), s(:defn, :char_count, s(:args, :word), s(:iter, s(:call, s(:call, s(:lvar, :word), :chars), :inject, s(:call, s(:const, :Hash), :new)), s(:args, :memo, :c), s(:block, s(:attrasgn, s(:lvar, :memo), :[]=, s(:call, s(:lvar, :c), :downcase), s(:call, s(:or, s(:call, s(:lvar, :memo), :[], s(:call, s(:lvar, :c), :downcase)), s(:lit, 0)), :+, s(:lit, 1))), s(:lvar, :memo))))), s(:defn, :combine_anagrams, s(:args, :words), s(:call, s(:call, s(:const, :AnagramStats), :new, s(:lvar, :words)), :combine)))