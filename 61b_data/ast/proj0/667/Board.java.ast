( canSelect ( pieceAt )( cond ( != )( cond ( != ( side )))( cond )( cond ( && ( != )( || ( validMove )( canCapture )))( cond ( || ( ! )( && ( != )( hasCaptured )))))))
