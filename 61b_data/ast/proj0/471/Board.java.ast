( canSelect ( cond ( == ( pieceAt ))( cond ( && ( validMove ))( cond ( ! )( cond ( && ( != )( hasCaptured )))))( cond ( == ( side ( pieceAt )))( cond ( || ( == )( && ( == )( == )))))))
