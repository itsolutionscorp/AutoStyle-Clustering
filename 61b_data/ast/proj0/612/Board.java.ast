( canSelect ( pieceAt )( cond ( != )( cond ( != ( side ))( cond ( ! )))( cond ( && ( ! )( validMove ))( cond ( && ( validMove ))))))
