s(:block, s(:defn, :anagram?, s(:args, :s1, :s2), s(:lasgn, :st1, s(:call, s(:call, s(:call, s(:call, s(:lvar, :s1), :downcase), :split, s(:str, "")), :sort), :join, s(:str, ""))), s(:lasgn, :st2, s(:call, s(:call, s(:call, s(:call, s(:lvar, :s2), :downcase), :split, s(:str, "")), :sort), :join, s(:str, ""))), s(:lasgn, :r, s(:if, s(:call, s(:lvar, :st1), :==, s(:lvar, :st2)), s(:lit, 1), s(:nil)))), s(:defn, :clean_anagram, s(:args, :ar, :st), s(:if, s(:call, s(:call, s(:lvar, :ar), :size), :==, s(:lit, 0)), s(:return, s(:lvar, :st)), nil), s(:iter, s(:call, s(:lvar, :ar), :each), s(:args, :x), s(:block, s(:if, s(:call, s(:lvar, :x), :==, s(:call, s(:lvar, :ar), :[], s(:lit, 0))), s(:return, s(:lvar, :x)), nil), s(:if, s(:call, nil, :anagram?, s(:lvar, :st), s(:lvar, :x)), s(:return, s(:nil)), nil))), s(:lvar, :st)), s(:defn, :combine_anagrams, s(:args, :ar), s(:if, s(:lvar, :ar), nil, s(:return)), s(:lasgn, :dr, s(:array)), s(:iter, s(:call, s(:lvar, :ar), :each), s(:args, :x), s(:if, s(:call, nil, :clean_anagram, s(:lvar, :dr), s(:lvar, :x)), s(:call, s(:lvar, :dr), :<<, s(:lvar, :x)), nil)), s(:lasgn, :br, s(:array)), s(:iter, s(:call, s(:lvar, :dr), :each), s(:args, :x), s(:block, s(:lasgn, :cr, s(:array, s(:lvar, :x))), s(:iter, s(:call, s(:lvar, :ar), :each), s(:args, :y), s(:block, s(:if, s(:call, s(:lvar, :x), :==, s(:lvar, :y)), s(:next), nil), s(:if, s(:call, nil, :anagram?, s(:lvar, :x), s(:lvar, :y)), s(:call, s(:lvar, :cr), :<<, s(:lvar, :y)), nil))), s(:call, s(:lvar, :br), :<<, s(:lvar, :cr)))), s(:lvar, :br)))