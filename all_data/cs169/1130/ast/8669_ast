s(:defn, :combine_anagrams, s(:args, :words), s(:lasgn, :indexed_words, s(:iter, s(:call, s(:lvar, :words), :map), s(:args, :word), s(:array, s(:call, s(:call, s(:call, s(:call, s(:lvar, :word), :downcase), :chars), :sort), :join), s(:lvar, :word)))), s(:iter, s(:call, s(:lvar, :indexed_words), :sort!), s(:args, :l, :r), s(:call, s(:call, s(:lvar, :l), :[], s(:lit, 0)), :<=>, s(:call, s(:lvar, :r), :[], s(:lit, 0)))), s(:lasgn, :anagrams, s(:array)), s(:iter, s(:call, s(:call, s(:iter, s(:call, s(:lvar, :indexed_words), :map), s(:args, :s), s(:call, s(:lvar, :s), :[], s(:lit, 0))), :uniq), :each), s(:args, :word_signature), s(:call, s(:lvar, :anagrams), :<<, s(:iter, s(:call, s(:iter, s(:call, s(:lvar, :indexed_words), :select), s(:args, :z), s(:call, s(:call, s(:lvar, :z), :[], s(:lit, 0)), :==, s(:lvar, :word_signature))), :map), s(:args, :z), s(:call, s(:lvar, :z), :[], s(:lit, 1))))), s(:lvar, :anagrams))