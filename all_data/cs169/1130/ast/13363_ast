s(:defn, :combine_anagrams, s(:args, :words), s(:if, s(:call, s(:call, s(:lvar, :words), :empty?), :!), s(:block, s(:lasgn, :word, s(:call, s(:lvar, :words), :shift)), s(:lasgn, :anagrams, s(:call, s(:array, s(:lvar, :word)), :+, s(:iter, s(:call, s(:lvar, :words), :select), s(:args, :potential_anagram), s(:call, s(:call, s(:call, s(:call, s(:call, s(:lvar, :word), :downcase), :chars), :sort), :join), :==, s(:call, s(:call, s(:call, s(:call, s(:lvar, :potential_anagram), :downcase), :chars), :sort), :join))))), s(:call, s(:array, s(:lvar, :anagrams)), :concat, s(:call, nil, :combine_anagrams, s(:call, s(:lvar, :words), :-, s(:lvar, :anagrams))))), s(:array)))