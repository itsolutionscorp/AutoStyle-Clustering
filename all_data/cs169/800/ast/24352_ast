s(:block, s(:class, :String, nil, s(:defn, :sort_letters, s(:args), s(:call, s(:call, s(:call, s(:call, s(:self), :downcase), :chars), :sort), :join))), s(:class, :Array, nil, s(:defn, :after, s(:args, :obj), s(:call, nil, :[], s(:dot2, s(:call, s(:call, s(:self), :index, s(:lvar, :obj)), :+, s(:lit, 1)), s(:lit, -1))))), s(:defn, :combine_anagrams, s(:args, :words), s(:lasgn, :combined_anagrams, s(:array)), s(:iter, s(:call, s(:lvar, :words), :each), s(:args, :first_word), s(:block, s(:if, s(:call, s(:lvar, :first_word), :==, s(:nil)), s(:next), nil), s(:lasgn, :anagram, s(:array, s(:lvar, :first_word))), s(:iter, s(:call, s(:call, s(:lvar, :words), :after, s(:lvar, :first_word)), :each), s(:args, :next_word), s(:block, s(:if, s(:call, s(:lvar, :next_word), :==, s(:nil)), s(:next), nil), s(:if, s(:call, s(:call, s(:lvar, :first_word), :sort_letters), :==, s(:call, s(:lvar, :next_word), :sort_letters)), s(:block, s(:call, s(:lvar, :anagram), :<<, s(:lvar, :next_word)), s(:attrasgn, s(:lvar, :words), :[]=, s(:call, s(:lvar, :words), :index, s(:lvar, :next_word)), s(:nil))), nil))), s(:attrasgn, s(:lvar, :words), :[]=, s(:call, s(:lvar, :words), :index, s(:lvar, :first_word)), s(:nil)), s(:call, s(:lvar, :combined_anagrams), :<<, s(:lvar, :anagram)))), s(:lvar, :combined_anagrams)))