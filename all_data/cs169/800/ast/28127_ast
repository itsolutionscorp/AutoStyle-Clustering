s(:block, s(:defn, :sort_word, s(:args, :w), s(:call, s(:iter, s(:call, s(:call, s(:lvar, :w), :chars), :sort), s(:args, :c1, :c2), s(:call, s(:lvar, :c1), :casecmp, s(:lvar, :c2))), :join)), s(:defn, :combine_anagrams, s(:args, :input), s(:return, s(:call, nil, :anagram_helper, s(:lvar, :input), s(:call, s(:const, :Array), :new)))), s(:defn, :anagram_helper, s(:args, :input, :groups), s(:if, s(:call, s(:call, s(:lvar, :input), :size), :==, s(:lit, 0)), s(:return, s(:lvar, :groups)), s(:block, s(:call, s(:lvar, :groups), :<<, s(:iter, s(:call, s(:lvar, :input), :select), s(:args, :a), s(:call, s(:call, s(:call, nil, :sort_word, s(:lvar, :a)), :casecmp, s(:call, nil, :sort_word, s(:call, s(:lvar, :input), :at, s(:lit, 0)))), :==, s(:lit, 0)))), s(:lasgn, :reducedInput, s(:iter, s(:call, s(:lvar, :input), :reject), s(:args, :b), s(:call, s(:call, s(:call, nil, :sort_word, s(:lvar, :b)), :casecmp, s(:call, nil, :sort_word, s(:call, s(:lvar, :input), :at, s(:lit, 0)))), :==, s(:lit, 0)))), s(:return, s(:call, nil, :anagram_helper, s(:lvar, :reducedInput), s(:lvar, :groups)))))))