s(:block, s(:defn, :combine_anagrams, s(:args, :words), s(:iasgn, :@results, s(:array)), s(:lasgn, :word_bins, s(:iter, s(:call, s(:lvar, :words), :group_by), s(:args, :word), s(:call, s(:lvar, :word), :length))), s(:iter, s(:call, s(:call, s(:lvar, :word_bins), :values), :map), s(:args, :sublist), s(:block, s(:lasgn, :sublist, s(:call, s(:lvar, :sublist), :zip, s(:lvar, :sublist))), s(:iter, s(:call, s(:lvar, :sublist), :map), s(:args, :wordpairs), s(:attrasgn, s(:lvar, :wordpairs), :[]=, s(:lit, 0), s(:call, s(:call, s(:call, s(:call, s(:call, s(:lvar, :wordpairs), :[], s(:lit, 0)), :downcase), :chars), :sort), :join))), s(:lasgn, :keys, s(:call, s(:iter, s(:call, s(:lvar, :sublist), :collect), s(:args, :list), s(:call, s(:lvar, :list), :[], s(:lit, 0))), :uniq)), s(:iter, s(:call, s(:lvar, :keys), :each), s(:args, :key), s(:block, s(:lasgn, :anagrams, s(:iter, s(:call, s(:lvar, :sublist), :collect), s(:args, :list), s(:if, s(:call, s(:call, s(:lvar, :list), :[], s(:lit, 0)), :==, s(:lvar, :key)), s(:call, s(:lvar, :list), :[], s(:lit, 1)), s(:nil)))), s(:call, s(:lvar, :anagrams), :compact!), s(:call, s(:ivar, :@results), :<<, s(:lvar, :anagrams)))))), s(:ivar, :@results)))