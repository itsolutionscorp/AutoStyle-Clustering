s(:block, s(:defn, :anagrams?, s(:args, :word_1, :word_2), s(:call, s(:call, s(:call, s(:call, s(:lvar, :word_1), :downcase), :split, s(:str, "")), :sort), :==, s(:call, s(:call, s(:call, s(:lvar, :word_2), :downcase), :split, s(:str, "")), :sort))), s(:defn, :combine_anagrams, s(:args, :words), s(:lasgn, :return_array, s(:array)), s(:lasgn, :tainted_indexes, s(:hash)), s(:iter, s(:call, s(:lvar, :words), :each_with_index), s(:args, :original_word, :idx), s(:block, s(:if, s(:call, s(:lvar, :tainted_indexes), :[], s(:lvar, :idx)), s(:next), nil), s(:lasgn, :words_to_group, s(:array)), s(:iter, s(:call, s(:call, s(:lvar, :words), :[], s(:dot2, s(:lvar, :idx), s(:call, s(:lvar, :words), :length))), :each_with_index), s(:args, :word, :idx_inner), s(:if, s(:call, nil, :anagrams?, s(:lvar, :original_word), s(:lvar, :word)), s(:block, s(:call, s(:lvar, :words_to_group), :<<, s(:lvar, :word)), s(:attrasgn, s(:lvar, :tainted_indexes), :[]=, s(:call, s(:lvar, :idx), :+, s(:lvar, :idx_inner)), s(:true))), nil)), s(:call, s(:lvar, :return_array), :<<, s(:lvar, :words_to_group)))), s(:return, s(:lvar, :return_array))))