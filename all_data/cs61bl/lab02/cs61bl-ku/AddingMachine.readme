1) We used a single loop.
2) In a double loop, you would have a nested loop that corresponds to the subtotal inside of the bigger loop that corresponds to the total value.
3) We prefer the one loop because it has less lines of code and is simpler. The one loop version is just cleaner in our opinion and should have a faster compile time. The two loop version is more "user-friendly" and easier for humans to read, and its probably easier to debug/test. 
