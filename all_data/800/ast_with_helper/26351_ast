s(:block, s(:defn, :combine_anagrams, s(:args, :original_words), s(:lasgn, :words_with_ordered_letters, s(:array)), s(:iter, s(:call, s(:lvar, :original_words), :each), s(:args, :word), s(:call, s(:lvar, :words_with_ordered_letters), :push, s(:call, s(:call, s(:call, s(:call, s(:lvar, :word), :downcase), :chars), :sort), :join))), s(:lasgn, :anagram_list, s(:array)), s(:lasgn, :anagram, s(:array)), s(:lasgn, :pos, s(:lit, 0)), s(:while, s(:call, s(:call, s(:lvar, :words_with_ordered_letters), :empty?), :!), s(:block, s(:lasgn, :original_word, s(:call, s(:lvar, :original_words), :fetch, s(:lvar, :pos))), s(:lasgn, :ordered_word, s(:call, s(:call, s(:call, s(:call, s(:lvar, :original_word), :downcase), :chars), :sort), :join)), s(:lasgn, :delay, s(:lit, 0)), s(:while, s(:call, s(:lvar, :words_with_ordered_letters), :include?, s(:lvar, :ordered_word)), s(:block, s(:lasgn, :position, s(:call, s(:lvar, :words_with_ordered_letters), :index, s(:lvar, :ordered_word))), s(:call, s(:lvar, :anagram), :push, s(:call, s(:lvar, :original_words), :fetch, s(:lvar, :position))), s(:call, s(:lvar, :words_with_ordered_letters), :delete_at, s(:call, nil, :postion)), s(:lasgn, :delay, s(:call, s(:lvar, :delay), :+, s(:lit, 1)))), true), s(:lasgn, :pos, s(:call, s(:lvar, :pos), :+, s(:lit, 1)))), true), s(:call, s(:lvar, :anagram_list), :push, s(:lvar, :anagram)), s(:call, s(:lvar, :anagram), :clear), s(:lvar, :anagram_list)))