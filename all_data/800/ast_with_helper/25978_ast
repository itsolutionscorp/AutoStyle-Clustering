s(:block, s(:defn, :combine_anagrams, s(:args, :words), s(:lasgn, :similar, s(:iter, s(:call, s(:lvar, :words), :map), s(:args, :e), s(:array, s(:iter, s(:call, s(:call, s(:call, s(:call, s(:lvar, :e), :downcase), :split, s(:lit, //)), :sort), :inject, s(:str, "")), s(:args, :v, :d), s(:call, s(:lvar, :v), :concat, s(:lvar, :d))), s(:lvar, :e)))), s(:lasgn, :sorted, s(:call, s(:lvar, :similar), :sort)), s(:lasgn, :result, s(:array)), s(:lasgn, :current, s(:nil)), s(:lasgn, :previous, s(:nil)), s(:iter, s(:call, s(:lvar, :sorted), :each), s(:args, :d), s(:block, s(:if, s(:call, s(:lvar, :previous), :!=, s(:call, s(:lvar, :d), :[], s(:lit, 0))), s(:block, s(:lasgn, :previous, s(:call, s(:lvar, :d), :[], s(:lit, 0))), s(:if, s(:call, s(:lvar, :current), :!=, s(:nil)), s(:call, s(:lvar, :result), :push, s(:lvar, :current)), nil), s(:lasgn, :current, s(:array))), nil), s(:call, s(:lvar, :current), :push, s(:call, s(:lvar, :d), :[], s(:lit, 1))))), s(:call, s(:lvar, :result), :push, s(:lvar, :current)), s(:return, s(:lvar, :result))))