( canSelect ( cond ( occupied )( cond ( == ( % )( side ( pieceAt )))( cond ( == )( pieceAt )( cond ( && ( selected )( ! )))))( cond ( && ( selected )( ! )( ! ( occupied ))( validMove ))( cond ( && ( selected )( hasCaptured )( validMove ))))))
