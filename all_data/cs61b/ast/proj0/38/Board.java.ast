( canSelect ( pieceAt )( pieceAt )( cond ( && ( == ( - ))( == ( - )))( && ( != )( == ( isFire )))( cond ( ! )( || ( validMove )( && ( != )( == ( isFire ))))( cond ( && ( != )( hasCaptured ))( validMove )))))
