( canSelect ( pieceAt )( cond ( == )( cond ( && ( != )( == ( side )))( || ( == ))( cond ( && ( != )( != ( side )))( cond ( && ( == )( ! ))( && ( validMove ))))))( cond ( && ( && ( == ))( canCapture ))( && ( validMove ))))
