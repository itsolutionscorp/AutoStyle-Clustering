( canSelect ( cond ( != ( pieceAt ))( cond ( == )( cond ( == ( side ( pieceAt )))))( cond ( == ( pieceAt ))( cond ( && ( != )( == ))( cond ( validMove ))( cond ( && ( && ( != )( hasCaptured ))( validMove )))))))
