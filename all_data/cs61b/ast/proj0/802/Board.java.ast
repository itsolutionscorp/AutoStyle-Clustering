( canSelect ( cond ( ! ( withinBounds )))( pieceAt )( cond ( != )( cond ( && ( == ( side ))( ! )))( cond ( ! )( cond ( != )( cond ( && ( == )( validMoveFire )))( cond ( && ( == )( validMoveWater ))))( cond ( == ))( pieceAt )( cond ( hasCaptured )( cond ( && ( isKing )( validCaptureKing )))( cond ( && ( && ( == )( isFire ))( validCaptureFire )))( cond ( && ( && ( == )( ! ( isFire )))( validCaptureWater )))))))
