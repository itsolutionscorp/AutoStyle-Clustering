( canSelect ( pieceAt )( cond ( != )( cond ( == ( side ))( cond ( || ( == )( == ))))( cond ( != )( cond ( && ( == )( validMove )))( cond ( && ( hasCaptured )( validMove ))))))
