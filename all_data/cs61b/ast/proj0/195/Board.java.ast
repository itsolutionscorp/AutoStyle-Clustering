( canSelect ( cond ( != ( pieceAt ))( cond ( || ( ! )( ! ))( cond ( == ( side ( pieceAt )))))( cond ( cond ( ! )( cond ( validMove )))( cond ( != ( pieceAt ))( cond ( hasCaptured ( pieceAt ))( cond ( validCapture )))))))
