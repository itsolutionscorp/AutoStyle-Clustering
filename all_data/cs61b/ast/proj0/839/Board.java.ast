( canSelect ( pieceAt )( cond ( == )( cond ( && ( && ( != )( != ( pieceAt )))( validMove ))( cond ( && ( && ( != )( != ( pieceAt )))( hasCaptured ( pieceAt )))( cond ( validCapture ))))( cond ( == ( isFire ))( cond ( && ( == )( == ))( cond ( && ( != )( != ( pieceAt ))))))))
