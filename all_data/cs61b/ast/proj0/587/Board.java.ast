( canSelect ( cond ( != ( pieceAt ))( cond ( && ( == ( side ( pieceAt )))( || ( == )( ! ))))( cond ( != )( cond ( && ( ! )( validMove ))( cond ( && ( hasCaptured )( validCaptureMove )))))))
