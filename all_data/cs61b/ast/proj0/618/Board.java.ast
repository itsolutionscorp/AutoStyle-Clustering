( canSelect ( pieceAt )( cond ( == )( cond ( && ( != )( ! ))( cond ( validMove ))( cond ( && ( != )( hasCaptured ))( cond ( validMove ))))( cond ( || ( == )( ! ))( cond ( == ( side ))))))
